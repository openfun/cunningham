import{r as i}from"./index-DTOEHpHZ.js";import{b as m,c as W,d as D,e as q}from"./context-C5gmCNcd.js";function U(e,t,r){let[n,o]=i.useState(e||t),c=i.useRef(e!==void 0),a=e!==void 0;i.useEffect(()=>{c.current,c.current=a},[a]);let l=a?e:n,s=i.useCallback((u,...f)=>{let N=(L,...w)=>{r&&(Object.is(l,L)||r(L,...w)),a||(l=L)};typeof u=="function"?o((w,...K)=>{let I=u(a?l:w,...K);return N(I,...f),a?w:I}):(a||o(u),N(u,...f))},[a,l,r]);return[l,s]}function he(e){let[t,r]=U(e.isOpen,e.defaultOpen||!1,e.onOpenChange);const n=i.useCallback(()=>{r(!0)},[r]),o=i.useCallback(()=>{r(!1)},[r]),c=i.useCallback(()=>{r(!t)},[r,t]);return{isOpen:t,setOpen:r,open:n,close:o,toggle:c}}function C(e){const t=i.useRef(null);return m(()=>{t.current=e},[e]),i.useCallback((...r)=>{const n=t.current;return n==null?void 0:n(...r)},[])}function J(e){let[t,r]=i.useState(e),n=i.useRef(null),o=C(()=>{if(!n.current)return;let a=n.current.next();if(a.done){n.current=null;return}t===a.value?o():r(a.value)});m(()=>{n.current&&o()});let c=C(a=>{n.current=a(t),o()});return[t,c]}let Q=!!(typeof window<"u"&&window.document&&window.document.createElement),p=new Map,E;typeof FinalizationRegistry<"u"&&(E=new FinalizationRegistry(e=>{p.delete(e)}));function X(e){let[t,r]=i.useState(e),n=i.useRef(null),o=W(t),c=i.useRef(null);if(E&&E.register(c,o),Q){const a=p.get(o);a&&!a.includes(n)?a.push(n):p.set(o,[n])}return m(()=>{let a=o;return()=>{E&&E.unregister(c),p.delete(a)}},[o]),i.useEffect(()=>{let a=n.current;return a&&r(a),()=>{a&&(n.current=null)}}),o}function Y(e,t){if(e===t)return e;let r=p.get(e);if(r)return r.forEach(o=>o.current=t),t;let n=p.get(t);return n?(n.forEach(o=>o.current=e),e):t}function xe(e=[]){let t=X(),[r,n]=J(t),o=i.useCallback(()=>{n(function*(){yield t,yield document.getElementById(t)?t:void 0})},[t,n]);return m(o,[t,o,...e]),r}function Z(...e){return(...t)=>{for(let r of e)typeof r=="function"&&r(...t)}}const g=e=>{var t;return(t=e==null?void 0:e.ownerDocument)!==null&&t!==void 0?t:document},x=e=>e&&"window"in e&&e.window===e?e:g(e).defaultView||window;function ee(e){return e!==null&&typeof e=="object"&&"nodeType"in e&&typeof e.nodeType=="number"}function te(e){return ee(e)&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&"host"in e}let ne=!1;function R(){return ne}function Te(e,t){if(!R())return t&&e?e.contains(t):!1;if(!e||!t)return!1;let r=t;for(;r!==null;){if(r===e)return!0;r.tagName==="SLOT"&&r.assignedSlot?r=r.assignedSlot.parentNode:te(r)?r=r.host:r=r.parentNode}return!1}const j=(e=document)=>{var t;if(!R())return e.activeElement;let r=e.activeElement;for(;r&&"shadowRoot"in r&&(!((t=r.shadowRoot)===null||t===void 0)&&t.activeElement);)r=r.shadowRoot.activeElement;return r};function ke(e){return R()&&e.target.shadowRoot&&e.composedPath?e.composedPath()[0]:e.target}function B(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(r=B(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function re(){for(var e,t,r=0,n="",o=arguments.length;r<o;r++)(e=arguments[r])&&(t=B(e))&&(n&&(n+=" "),n+=t);return n}function Oe(...e){let t={...e[0]};for(let r=1;r<e.length;r++){let n=e[r];for(let o in n){let c=t[o],a=n[o];typeof c=="function"&&typeof a=="function"&&o[0]==="o"&&o[1]==="n"&&o.charCodeAt(2)>=65&&o.charCodeAt(2)<=90?t[o]=Z(c,a):(o==="className"||o==="UNSAFE_className")&&typeof c=="string"&&typeof a=="string"?t[o]=re(c,a):o==="id"&&c&&a?t.id=Y(c,a):t[o]=a!==void 0?a:c}}return t}const oe=new Set(["id"]),ae=new Set(["aria-label","aria-labelledby","aria-describedby","aria-details"]),ce=new Set(["href","hrefLang","target","rel","download","ping","referrerPolicy"]),ie=/^(data-.*)$/;function Se(e,t={}){let{labelable:r,isLink:n,propNames:o}=t,c={};for(const a in e)Object.prototype.hasOwnProperty.call(e,a)&&(oe.has(a)||r&&ae.has(a)||n&&ce.has(a)||o!=null&&o.has(a)||ie.test(a))&&(c[a]=e[a]);return c}function T(e){if(le())e.focus({preventScroll:!0});else{let t=fe(e);e.focus(),se(t)}}let h=null;function le(){if(h==null){h=!1;try{document.createElement("div").focus({get preventScroll(){return h=!0,!0}})}catch{}}return h}function fe(e){let t=e.parentNode,r=[],n=document.scrollingElement||document.documentElement;for(;t instanceof HTMLElement&&t!==n;)(t.offsetHeight<t.scrollHeight||t.offsetWidth<t.scrollWidth)&&r.push({element:t,scrollTop:t.scrollTop,scrollLeft:t.scrollLeft}),t=t.parentNode;return n instanceof HTMLElement&&r.push({element:n,scrollTop:n.scrollTop,scrollLeft:n.scrollLeft}),r}function se(e){for(let{element:t,scrollTop:r,scrollLeft:n}of e)t.scrollTop=r,t.scrollLeft=n}let $=new Map,M=new Set;function H(){if(typeof window>"u")return;function e(n){return"propertyName"in n}let t=n=>{if(!e(n)||!n.target)return;let o=$.get(n.target);o||(o=new Set,$.set(n.target,o),n.target.addEventListener("transitioncancel",r,{once:!0})),o.add(n.propertyName)},r=n=>{if(!e(n)||!n.target)return;let o=$.get(n.target);if(o&&(o.delete(n.propertyName),o.size===0&&(n.target.removeEventListener("transitioncancel",r),$.delete(n.target)),$.size===0)){for(let c of M)c();M.clear()}};document.body.addEventListener("transitionrun",t),document.body.addEventListener("transitionend",r)}typeof document<"u"&&(document.readyState!=="loading"?H():document.addEventListener("DOMContentLoaded",H));function ue(e){requestAnimationFrame(()=>{$.size===0?e():M.add(e)})}function Ce(){let e=i.useRef(new Map),t=i.useCallback((o,c,a,l)=>{let s=l!=null&&l.once?(...u)=>{e.current.delete(a),a(...u)}:a;e.current.set(a,{type:c,eventTarget:o,fn:s,options:l}),o.addEventListener(c,s,l)},[]),r=i.useCallback((o,c,a,l)=>{var s;let u=((s=e.current.get(a))===null||s===void 0?void 0:s.fn)||a;o.removeEventListener(c,u,l),e.current.delete(a)},[]),n=i.useCallback(()=>{e.current.forEach((o,c)=>{r(o.eventTarget,o.type,c,o.options)})},[r]);return i.useEffect(()=>n,[n]),{addGlobalListener:t,removeGlobalListener:r,removeAllGlobalListeners:n}}function Me(e,t){m(()=>{if(e&&e.ref&&t)return e.ref.current=t.current,()=>{e.ref&&(e.ref.current=null)}})}function de(e){return e.mozInputSource===0&&e.isTrusted?!0:D()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function Fe(e){return!D()&&e.width===0&&e.height===0||e.width===1&&e.height===1&&e.pressure===0&&e.detail===0&&e.pointerType==="mouse"}const P=["input:not([disabled]):not([type=hidden])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable^="false"])'],be=P.join(":not([hidden]),")+",[tabindex]:not([disabled]):not([hidden])";P.push('[tabindex]:not([tabindex="-1"]):not([disabled])');const $e=P.join(':not([hidden]):not([tabindex="-1"]),');function pe(e){return e.matches(be)}function Re(e){return e.matches($e)}function ve(e){let t=e;return t.nativeEvent=e,t.isDefaultPrevented=()=>t.defaultPrevented,t.isPropagationStopped=()=>t.cancelBubble,t.persist=()=>{},t}function Pe(e,t){Object.defineProperty(e,"target",{value:t}),Object.defineProperty(e,"currentTarget",{value:t})}function Ne(e){let t=i.useRef({isFocused:!1,observer:null});m(()=>{const n=t.current;return()=>{n.observer&&(n.observer.disconnect(),n.observer=null)}},[]);let r=C(n=>{e==null||e(n)});return i.useCallback(n=>{if(n.target instanceof HTMLButtonElement||n.target instanceof HTMLInputElement||n.target instanceof HTMLTextAreaElement||n.target instanceof HTMLSelectElement){t.current.isFocused=!0;let o=n.target,c=a=>{if(t.current.isFocused=!1,o.disabled){let l=ve(a);r(l)}t.current.observer&&(t.current.observer.disconnect(),t.current.observer=null)};o.addEventListener("focusout",c,{once:!0}),t.current.observer=new MutationObserver(()=>{if(t.current.isFocused&&o.disabled){var a;(a=t.current.observer)===null||a===void 0||a.disconnect();let l=o===document.activeElement?null:document.activeElement;o.dispatchEvent(new FocusEvent("blur",{relatedTarget:l})),o.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:l}))}}),t.current.observer.observe(o,{attributes:!0,attributeFilter:["disabled"]})}},[r])}let k=!1;function Ie(e){for(;e&&!pe(e);)e=e.parentElement;let t=x(e),r=t.document.activeElement;if(!r||r===e)return;k=!0;let n=!1,o=f=>{(f.target===r||n)&&f.stopImmediatePropagation()},c=f=>{(f.target===r||n)&&(f.stopImmediatePropagation(),!e&&!n&&(n=!0,T(r),s()))},a=f=>{(f.target===e||n)&&f.stopImmediatePropagation()},l=f=>{(f.target===e||n)&&(f.stopImmediatePropagation(),n||(n=!0,T(r),s()))};t.addEventListener("blur",o,!0),t.addEventListener("focusout",c,!0),t.addEventListener("focusin",l,!0),t.addEventListener("focus",a,!0);let s=()=>{cancelAnimationFrame(u),t.removeEventListener("blur",o,!0),t.removeEventListener("focusout",c,!0),t.removeEventListener("focusin",l,!0),t.removeEventListener("focus",a,!0),k=!1,n=!1},u=requestAnimationFrame(s);return s}let b=null,me=new Set,y=new Map,d=!1,F=!1;function S(e,t){for(let r of me)r(e,t)}function Ee(e){return!(e.metaKey||!q()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function O(e){d=!0,Ee(e)&&(b="keyboard",S("keyboard",e))}function v(e){b="pointer",(e.type==="mousedown"||e.type==="pointerdown")&&(d=!0,S("pointer",e))}function G(e){de(e)&&(d=!0,b="virtual")}function V(e){e.target===window||e.target===document||k||!e.isTrusted||(!d&&!F&&(b="virtual",S("virtual",e)),d=!1,F=!1)}function _(){k||(d=!1,F=!0)}function A(e){if(typeof window>"u"||y.get(x(e)))return;const t=x(e),r=g(e);let n=t.HTMLElement.prototype.focus;t.HTMLElement.prototype.focus=function(){d=!0,n.apply(this,arguments)},r.addEventListener("keydown",O,!0),r.addEventListener("keyup",O,!0),r.addEventListener("click",G,!0),t.addEventListener("focus",V,!0),t.addEventListener("blur",_,!1),typeof PointerEvent<"u"&&(r.addEventListener("pointerdown",v,!0),r.addEventListener("pointermove",v,!0),r.addEventListener("pointerup",v,!0)),t.addEventListener("beforeunload",()=>{z(e)},{once:!0}),y.set(t,{focus:n})}const z=(e,t)=>{const r=x(e),n=g(e);t&&n.removeEventListener("DOMContentLoaded",t),y.has(r)&&(r.HTMLElement.prototype.focus=y.get(r).focus,n.removeEventListener("keydown",O,!0),n.removeEventListener("keyup",O,!0),n.removeEventListener("click",G,!0),r.removeEventListener("focus",V,!0),r.removeEventListener("blur",_,!1),typeof PointerEvent<"u"&&(n.removeEventListener("pointerdown",v,!0),n.removeEventListener("pointermove",v,!0),n.removeEventListener("pointerup",v,!0)),y.delete(r))};function ye(e){const t=g(e);let r;return t.readyState!=="loading"?A(e):(r=()=>{A(e)},t.addEventListener("DOMContentLoaded",r)),()=>z(e,r)}typeof document<"u"&&ye();function je(){return b!=="pointer"}function ge(){return b}function He(e){b=e,S(e,null)}function Ae(e){const t=g(e),r=j(t);if(ge()==="virtual"){let n=r;ue(()=>{j(t)===n&&e.isConnected&&T(e)})}else T(e)}export{Ne as $,pe as A,xe as B,He as C,g as a,j as b,ke as c,Oe as d,Ae as e,Me as f,Ce as g,Te as h,Se as i,X as j,ge as k,je as l,he as m,U as n,R as o,T as p,C as q,x as r,ue as s,Pe as t,ve as u,Fe as v,Ie as w,de as x,Z as y,Re as z};
