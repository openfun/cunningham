import{e as r,r as o}from"./index-DTOEHpHZ.js";const D=typeof document<"u"?r.useLayoutEffect:()=>{},b={prefix:String(Math.round(Math.random()*1e10)),current:0},x=r.createContext(b),y=r.createContext(!1);let $=new WeakMap;function C(e=!1){let t=o.useContext(x),a=o.useRef(null);if(a.current===null&&!e){var n,f;let i=(f=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)===null||f===void 0||(n=f.ReactCurrentOwner)===null||n===void 0?void 0:n.current;if(i){let d=$.get(i);d==null?$.set(i,{id:t.current,state:i.memoizedState}):i.memoizedState!==d.state&&(t.current=d.id,$.delete(i))}a.current=++t.current}return a.current}function A(e){let t=o.useContext(x),a=C(!!e),n=`react-aria${t.prefix}`;return e||`${n}-${a}`}function L(e){let t=r.useId(),[a]=o.useState(g()),n=a?"react-aria":`react-aria${b.prefix}`;return e||`${n}-${t}`}const J=typeof r.useId=="function"?L:A;function M(){return!1}function z(){return!0}function P(e){return()=>{}}function g(){return typeof r.useSyncExternalStore=="function"?r.useSyncExternalStore(P,M,z):o.useContext(y)}function l(e){var t;return typeof window>"u"||window.navigator==null?!1:((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.brands.some(a=>e.test(a.brand)))||e.test(window.navigator.userAgent)}function v(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function c(e){let t=null;return()=>(t==null&&(t=e()),t)}const k=c(function(){return v(/^Mac/i)}),I=c(function(){return v(/^iPhone/i)}),q=c(function(){return v(/^iPad/i)||k()&&navigator.maxTouchPoints>1}),Q=c(function(){return I()||q()}),X=c(function(){return l(/AppleWebKit/i)&&!G()}),G=c(function(){return l(/Chrome/i)}),Z=c(function(){return l(/Android/i)}),F=c(function(){return l(/Firefox/i)}),H=new Set(["Arab","Syrc","Samr","Mand","Thaa","Mend","Nkoo","Adlm","Rohg","Hebr"]),K=new Set(["ae","ar","arc","bcc","bqi","ckb","dv","fa","glk","he","ku","mzn","nqo","pnb","ps","sd","ug","ur","yi"]);function w(e){if(Intl.Locale){let a=new Intl.Locale(e).maximize(),n=typeof a.getTextInfo=="function"?a.getTextInfo():a.textInfo;if(n)return n.direction==="rtl";if(a.script)return H.has(a.script)}let t=e.split("-")[0];return K.has(t)}const V=Symbol.for("react-aria.i18n.locale");function S(){let e=typeof window<"u"&&window[V]||typeof navigator<"u"&&(navigator.language||navigator.userLanguage)||"en-US";try{Intl.DateTimeFormat.supportedLocalesOf([e])}catch{e="en-US"}return{locale:e,direction:w(e)?"rtl":"ltr"}}let s=S(),u=new Set;function p(){s=S();for(let e of u)e(s)}function m(){let e=g(),[t,a]=o.useState(s);return o.useEffect(()=>(u.size===0&&window.addEventListener("languagechange",p),u.add(a),()=>{u.delete(a),u.size===0&&window.removeEventListener("languagechange",p)}),[]),e?{locale:"en-US",direction:"ltr"}:t}const h=r.createContext(null);function T(e){let{locale:t,children:a}=e,n=m(),f=r.useMemo(()=>t?{locale:t,direction:w(t)?"rtl":"ltr"}:n,[n,t]);return r.createElement(h.Provider,{value:f},a)}function W(){let e=m();return o.useContext(h)||e}export{X as $,W as a,D as b,J as c,Z as d,k as e,F as f,q as g,Q as h,T as i};
