import{j as v}from"./jsx-runtime-D_zvdyIk.js";import{r as n}from"./index-DTOEHpHZ.js";import{c as g}from"./index-rkLeB0kx.js";const E=(e,r)=>{n.useEffect(()=>{const o=s=>{!e.current||e.current.contains(s.target)||r()};return document.addEventListener("click",o,!0),()=>document.removeEventListener("click",o,!0)},[])},h=({parentRef:e,children:r,onClickOutside:o,borderless:s=!1})=>{const i=n.useRef(null);E(e,o);const t=n.useRef(null),[m,c]=n.useState();return n.useLayoutEffect(()=>{const a=()=>{if(!e.current||!i.current)return;const d=e.current.getBoundingClientRect(),u=i.current.getBoundingClientRect(),p=window.innerHeight-d.bottom<u.height,f=d.top>=u.height;c(p&&f?-u.height:void 0)},l=()=>{t.current&&clearTimeout(t.current),t.current=setTimeout(a,33.333333333333336)};return window.addEventListener("resize",l),a(),()=>{window.removeEventListener("resize",l),t.current&&clearTimeout(t.current)}},[]),v.jsx("div",{ref:i,className:g("c__popover",{"c__popover--borderless":s}),style:{top:m},role:"dialog",children:r})};h.__docgenInfo={description:"",methods:[],displayName:"Popover",props:{parentRef:{required:!0,tsType:{name:"RefObject",elements:[{name:"union",raw:"HTMLDivElement | null",elements:[{name:"HTMLDivElement"},{name:"null"}]}],raw:"RefObject<HTMLDivElement | null>"},description:""},onClickOutside:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},borderless:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}}}};export{h as P};
