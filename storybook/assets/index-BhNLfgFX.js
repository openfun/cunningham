import{j as a}from"./jsx-runtime-D_zvdyIk.js";import{r}from"./index-DTOEHpHZ.js";import{B as c}from"./index-DyRkmeWf.js";import{I as v}from"./index-46f45BQC.js";import{u as _}from"./index-eFf25hYI.js";const k=({defaultPage:t=1,defaultPagesCount:o,pageSize:n=10})=>{const[m,i]=r.useState(t),[s,l]=r.useState(o);return{page:m,setPage:i,onPageChange:i,pagesCount:s,setPagesCount:l,pageSize:n}},j=({page:t,onPageChange:o,pagesCount:n=0,displayGoto:m=!0})=>{const{t:i}=_(),[s,l]=r.useState("");if(r.useEffect(()=>{l(t+"")},[t]),n<=1)return null;const d=[1,t-2===3?t-3:-1,t-2,t-1,t,t+1,t+2,t+3===n-1?t+3:-1,n].filter(e=>e>0).filter(e=>e<=n).filter((e,u,h)=>e!==h[u-1]),x=()=>{o(Math.max(t-1,0))},f=()=>{o(Math.min(t+1,n))},p=()=>{let e=+s;(e<0||!e)&&(e=1),e>n&&(e=n),o(e)},b=t>1,g=t<n;return a.jsxs("div",{className:"c__pagination",children:[a.jsxs("div",{className:"c__pagination__list",children:[a.jsx(c,{color:"tertiary-text","aria-label":i("components.pagination.previous_aria"),onClick:x,disabled:!b,icon:a.jsx("span",{className:"material-icons",children:"navigate_before"}),size:"small"}),d.map((e,u)=>a.jsxs(r.Fragment,{children:[e>(d[u-1]||0)+1&&a.jsx("span",{children:"..."}),e===t?a.jsx(c,{color:"tertiary-text",active:!0,"aria-label":i("components.pagination.current_page_aria",{page:e}),size:"small",children:e}):a.jsx(c,{color:"tertiary-text","aria-label":i("components.pagination.goto_page_aria",{page:e}),onClick:()=>o(e),size:"small",children:e})]},e)),a.jsx(c,{color:"tertiary-text","aria-label":i("components.pagination.next_aria"),onClick:f,disabled:!g,icon:a.jsx("span",{className:"material-icons",children:"navigate_next"}),size:"small"})]}),m&&a.jsx("div",{className:"c__pagination__goto",children:a.jsx("form",{onSubmit:e=>{e.preventDefault(),p()},children:a.jsx(v,{type:"number",label:i("components.pagination.goto_label"),"aria-label":i("components.pagination.goto_label_aria"),size:2,value:s,onChange:e=>l(e.target.value),min:1,max:n,onBlur:()=>p(),onFocus:e=>e.target.select()})})})]})};j.__docgenInfo={description:"",methods:[],displayName:"Pagination",props:{page:{required:!0,tsType:{name:"number"},description:"Current page"},onPageChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(page: number) => void",signature:{arguments:[{type:{name:"number"},name:"page"}],return:{name:"void"}}},description:"Called when page need to change"},pagesCount:{required:!1,tsType:{name:"number"},description:"Total number of pages",defaultValue:{value:"0",computed:!1}},pageSize:{required:!0,tsType:{name:"number"},description:"Total number of items per page"},displayGoto:{required:!1,tsType:{name:"boolean"},description:"Display the goto input",defaultValue:{value:"true",computed:!1}}}};export{j as P,k as u};
